\usepackage{listings}
\usepackage{xcolor}

% Define custom colors
\definecolor{codeblue}{RGB}{41,82,147}
\definecolor{codegray}{RGB}{128,128,128}
\definecolor{codered}{RGB}{163,21,21}

% Define a style for Python code
\lstdefinestyle{pythonstyle}{
    language=Python,
    basicstyle=\scriptsize\ttfamily, % Changed to scriptsize
    keywordstyle=\color{codeblue}\bfseries,
    commentstyle=\color{codegray}\itshape,
    stringstyle=\color{codered},
    numbers=left,
    numberstyle=\tiny\color{codegray},
    stepnumber=1,
    numbersep=3pt, % Reduced number separation
    backgroundcolor=\color{white},
    frame=single,
    framesep=2pt, % Added frame separation
    breaklines=true,
    breakatwhitespace=true,
    tabsize=4,
    showstringspaces=false,
    %belowskip=-0.5\baselineskip, % Adjust spacing below the listing
    aboveskip=0.3\baselineskip,
}

% Set the style as default
\lstset{style=pythonstyle}


% Define json as a lenguage
\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{gray!10},
    showstringspaces=false,
    string=[db]{"},
    stringstyle=\color{green!50!black},
    morestring=[s][\color{black}]{\ \ "}{":},
    keywordstyle=\color{blue},
    keywords={true,false,null},
    literate=
     *{0}{{{\color{red}0}}}{1}
      {1}{{{\color{red}1}}}{1}
      {2}{{{\color{red}2}}}{1}
      {3}{{{\color{red}3}}}{1}
      {4}{{{\color{red}4}}}{1}
      {5}{{{\color{red}5}}}{1}
      {6}{{{\color{red}6}}}{1}
      {7}{{{\color{red}7}}}{1}
      {8}{{{\color{red}8}}}{1}
      {9}{{{\color{red}9}}}{1}
      {.}{{{\color{red}.}}}{1}
      {:}{{{\color{gray}{:}}}}{1}
      {,}{{{\color{gray}{,}}}}{1}
      {\{}{{{\color{gray}{\{}}}}{1}
      {\}}{{{\color{gray}{\}}}}}{1}
      {[}{{{\color{gray}{[}}}}{1}
      {]}{{{\color{gray}{]}}}}{1},
}

%% Grey verb
\newcommand{\greyverb}[1]{\colorbox{gray!20}{\texttt{#1}}}

% Define a style for large JSON to handle very long lines efficiently.
\lstdefinestyle{large-json}{
    language=json,
    basicstyle=\scriptsize\ttfamily, % Use a smaller font for large files
    %numbers=none,                    % Disable line numbers for performance
    breaklines=true,                 % Enable automatic line breaking
    breakatwhitespace=true,          % Break only at whitespace
    columns=fullflexible,            % Allow flexible column widths
    frame=lines,
    backgroundcolor=\color{gray!10},
    showstringspaces=false,
}
